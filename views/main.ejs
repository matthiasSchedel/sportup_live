<%- include('partials/head') %>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-light bg-light static-top">
    <!-- <div class="container"> -->
    <a class="float-left navbar-brand" href="/"><b>Sportup</b> Live</a>
    <div class="float-right">      
      <a class="btn btn-primary btn-lg" href="/logout">Logout</a>
    </div>
    <!-- </div> -->
  </nav>

  <!-- Masthead -->
  <header class="masthead text-white text-center">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-xl-9 mx-auto">
          <!-- <h1 class="mb-5">Sportup is great</h1>
          <h6 class="mb-3">Et dolor ea elit sit eu irure esse in magna elit aliqua commodo ut.</h6> -->
        </div>
        <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
          <!-- <form>
            <div class="form-row"> -->
          <!-- <div class="col-12 col-md-9 mb-2 mb-md-0">
                <input type="email" class="form-control form-control-lg" placeholder="Enter your email...">
              </div> -->
          <div class="col-12 col-md-12 mb-4 mb-md-0">
            <!-- <button type=" submit" class="btn btn-block btn-lg btn-primary">Loslegen</button> -->
            <!-- <a class="btn btn-primary btn-block btn-lg" href="/login-page">Loslegen</a> -->
          </div>
          <!-- </div>
          </form> -->
        </div>
      </div>
    </div>
  </header>


  <section class="main">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <p class="card-text">
            <b>Sportup Live</b> ist eine Plattform für alle, die sich in Zeiten von Social Distancing
            <span>gemeinsam virtuell
              fit halten wollen</span>. Die Plattform möchten Menschen, die aktuell Ihr zu Hause nicht verlassen
            dürfen und
            Trainer,
            die Kurse von zu Hause anbieten wollen, verbinden.
            Viele Trainer haben seit der Krise alle Einnahmequellen verloren. Wir wollen dir mit dieser Plattform
            helfen
            auf eine einfache Weise mit deinen bisherigen Teilnehmern in Kontakt zu treten oder auch deinen Kurs für
            eine
            größere Gruppe zu öffnen.
          </p>
        </div>
      </div>
    </div>
  </section>

  <section class="features-icons bg-light text-center">
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
            <div class="features-icons-icon d-flex">
              <i class="fa fa-chalkboard-teacher m-auto text-primary"></i>
            </div>
            <h3>Für Trainer</h3>
            <p class="lead mb-0">Erstellt in Sportup Live ganz einfach einen Kalender mit all euren geplanten
              Livestreams
              und gebt
              ein, wie die Teilnehmer euch für den virtuellen Kurs bezahlen können.</p>
          </div>
        </div>
        <div class="col-lg-6">
          <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
            <div class="features-icons-icon d-flex">
              <i class="fa fa-running m-auto text-primary"></i>
            </div>
            <h3>Für Sportbegeisterte</h3>
            <p class="lead mb-0">In der Kalenderfunktion findet ihr alle Livestreams der teilnehmenden Trainer.
              Über die
              Filterfunktion könnt ihr einerseits euren bisherigen Trainer finden oder auch einfach euren
              Lieblingssport
              auswählen oder nach bestimmten Zeiten filtern, um den perfekten Kurs für euch zu finden.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="showcase mt-5">
    <div class="container">
      <div class="col-xl-9 mt-8">
        <h3 class="mb-3 mt-8"><a href="/group">Gruppen</a></h3>
      </div>
      <div class="row">
        <div class="MultiCarousel" data-items="1,3,5,6" data-slide="1" id="MultiCarousel" data-interval="1000">
          <div class="MultiCarousel-inner">
            <% if (locals.groups) { %>
            <% for(var i=0; i<groups.length; i++) {%>
            <div class="item">
              <div class="pad15">
                <h5><%= groups[i].name %></h5>
                <p><%= groups[i].description %></p>
                <img src="<%= groups[i].picture %>" class="img-thumbnail"></i>
              </div>
            </div>
            <% } %>
            <% } %>
          </div>
          <button class="btn btn-primary leftLst">
            <i class="fa fa-chevron-left"></i> </button>
          <button class="btn btn-primary rightLst"><i class="fa fa-chevron-right"></i></button>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="col-xl-9  mt-8">
        <h3 class="mb-3 mt-8"><a href="/events">Events</a></h3>
      </div>
      <div class="row">
        <div class="MultiCarousel" data-items="1,3,5,6" data-slide="1" id="MultiCarousel" data-interval="1000">
          <div class="MultiCarousel-inner">
            <% if (locals.events) { %>
            <% for(var i=0; i<events.length; i++) {%>
            <div class="item">
              <div class="pad15">
                <h5><%= events[i].name %></h5>
                <p>Start: <%= moment(events[i].startDate).locale('de').format('L LT') %>
                  <p><%= events[i].description %></p>
              </div>
            </div>
            <% } %>
            <% } %>
          </div>
          <button class="btn btn-primary leftLst">
            <i class="fa fa-chevron-left"></i> </button>
          <button class="btn btn-primary rightLst"><i class="fa fa-chevron-right"></i></button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <%- include('partials/footer') %>


  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script>
    $(document).ready(function () {
      var itemsMainDiv = ('.MultiCarousel');
      var itemsDiv = ('.MultiCarousel-inner');
      var itemWidth = "";
      $('.leftLst, .rightLst').click(function () {
        var condition = $(this).hasClass("leftLst");
        if (condition)
          click(0, this);
        else
          click(1, this)
      });
      ResCarouselSize();
      $(window).resize(function () {
        ResCarouselSize();
      });
      //this function define the size of the items
      function ResCarouselSize() {
        var incno = 0;
        var dataItems = ("data-items");
        var itemClass = ('.item');
        var id = 0;
        var btnParentSb = '';
        var itemsSplit = '';
        var sampwidth = $(itemsMainDiv).width();
        var bodyWidth = $('body').width();
        $(itemsDiv).each(function () {
          id = id + 1;
          var itemNumbers = $(this).find(itemClass).length;
          btnParentSb = $(this).parent().attr(dataItems);
          itemsSplit = btnParentSb.split(',');
          $(this).parent().attr("id", "MultiCarousel" + id);
          if (bodyWidth >= 1200) {
            incno = itemsSplit[3];
            itemWidth = sampwidth / incno;
          }
          else if (bodyWidth >= 992) {
            incno = itemsSplit[2];
            itemWidth = sampwidth / incno;
          }
          else if (bodyWidth >= 768) {
            incno = itemsSplit[1];
            itemWidth = sampwidth / incno;
          }
          else {
            incno = itemsSplit[0];
            itemWidth = sampwidth / incno;
          }
          $(this).css({ 'transform': 'translateX(0px)', 'width': itemWidth * itemNumbers });
          $(this).find(itemClass).each(function () {
            $(this).outerWidth(itemWidth);
          });
          $(".leftLst").addClass("over");
          $(".rightLst").removeClass("over");
        });
      }
      //this function used to move the items
      function ResCarousel(e, el, s) {
        var leftBtn = ('.leftLst');
        var rightBtn = ('.rightLst');
        var translateXval = '';
        var divStyle = $(el + ' ' + itemsDiv).css('transform');
        var values = divStyle.match(/-?[\d\.]+/g);
        var xds = Math.abs(values[4]);
        if (e == 0) {
          translateXval = parseInt(xds) - parseInt(itemWidth * s);
          $(el + ' ' + rightBtn).removeClass("over");
          if (translateXval <= itemWidth / 2) {
            translateXval = 0;
            $(el + ' ' + leftBtn).addClass("over");
          }
        }
        else if (e == 1) {
          var itemsCondition = $(el).find(itemsDiv).width() - $(el).width();
          translateXval = parseInt(xds) + parseInt(itemWidth * s);
          $(el + ' ' + leftBtn).removeClass("over");
          if (translateXval >= itemsCondition - itemWidth / 2) {
            translateXval = itemsCondition;
            $(el + ' ' + rightBtn).addClass("over");
          }
        }
        $(el + ' ' + itemsDiv).css('transform', 'translateX(' + -translateXval + 'px)');
      }
      //It is used to get some elements from btn
      function click(ell, ee) {
        var Parent = "#" + $(ee).parent().attr("id");
        var slide = $(Parent).attr("data-slide");
        ResCarousel(ell, Parent, slide);
      }
    });
  </script>

</body>

</html>